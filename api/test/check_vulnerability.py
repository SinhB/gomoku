def check_vulnerability(side, player):
    """starting_op, starting_blank, ending_op, ending_blank"""
    is_consec = True
    consec = 0

    for i in range(0, min(len(side), 2)):
        if side[i] == 0:
            if i == 0:
                return False, True, False, False
            if i == 1 and consec == 1:
                return False, False, False, True
            else:
                is_consec = False
        if side[i] == player:
            if is_consec:
                consec += 1
        if side[i] == -player:
            if i == 0:
                return True, False, False, False
            if i == 1 and consec == 1:
                return False, False, True, False
            else:
                is_consec = False
    return False, False, False, False


def check_line_breakable(line, starting_index, player):
    """Return: (is_breakable, is_left, index)"""
    left = line[0:starting_index][::-1]
    right = line[starting_index+1:]

    l_starting_op, l_starting_blank, l_ending_op, l_ending_blank = check_vulnerability(left, player)
    r_starting_op, r_starting_blank, r_ending_op, r_ending_blank = check_vulnerability(right, player)

    #right
    if l_starting_op and r_ending_blank:
        return True, False, 2
    if r_starting_blank and l_ending_op:
        return True, False, 1
    #left
    if r_starting_op and l_ending_blank:
        return True, True, 2
    if l_starting_blank and r_ending_op:
        return True, True, 1

    return False, False, 0